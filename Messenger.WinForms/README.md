# Messenger WinForms Application

## –û–ø–∏—Å–∞–Ω–∏–µ

WinForms –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ Messenger –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ MVVM.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°–ª–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 1. Core (–Ø–¥—Ä–æ)
- **Interfaces** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - `IMessengerService` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–º
  - `INavigationService` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏
  - `IUserSessionService` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 2. Infrastructure (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- **Services** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
  - `MessengerService` - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
  - `NavigationService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏
  - `UserSessionService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 3. Presentation (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
- **ViewModels** - –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (MVVM)
  - `BaseViewModel` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - `LoginViewModel` - –º–æ–¥–µ–ª—å –¥–ª—è —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞
  - `MainViewModel` - –º–æ–¥–µ–ª—å –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Ñ–æ—Ä–º—ã
- **Forms** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - `LoginForm` - —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - `MainForm` - –≥–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º —á–∞—Ç–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID

#### Single Responsibility Principle (SRP)
- –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- `MessengerService` - —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å API
- `NavigationService` - —Ç–æ–ª—å–∫–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `UserSessionService` - —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π

#### Open/Closed Principle (OCP)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º –∏ ViewModels

#### Liskov Substitution Principle (LSP)
- –í—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã
- –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseViewModel` –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏

#### Interface Segregation Principle (ISP)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `IMessengerService` - —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–º
- `INavigationService` - —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

#### Dependency Inversion Principle (DIP)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã

#### MVVM (Model-View-ViewModel)
- **Model** - DTOs –∏–∑ Messenger.Shared
- **View** - WinForms —Ñ–æ—Ä–º—ã
- **ViewModel** - –∫–ª–∞—Å—Å—ã –≤ –ø–∞–ø–∫–µ ViewModels

#### Dependency Injection
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Microsoft.Extensions.DependencyInjection
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Program.cs

#### Observer Pattern
- –°–æ–±—ã—Ç–∏—è –≤ ViewModels –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SignalR —Ö–∞–±—É
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI –¥–∏–∑–∞–π–Ω

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- üîÑ –§–æ—Ä–º–∞ —á–∞—Ç–∞ (–æ—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π)
- üîÑ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- üîÑ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- üîÑ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–µ—á–∞—Ç–∏

## –ó–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ `https://localhost:5001`
2. –°–æ–±–µ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ: `dotnet build`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ WinForms –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `dotnet run --project Messenger.WinForms`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `appsettings.json`:
```json
{
  "MessengerApi": {
    "BaseUrl": "https://localhost:5001"
  }
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Messenger.WinForms/
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îî‚îÄ‚îÄ Interfaces/
‚îÇ       ‚îú‚îÄ‚îÄ IMessengerService.cs
‚îÇ       ‚îú‚îÄ‚îÄ INavigationService.cs
‚îÇ       ‚îî‚îÄ‚îÄ IUserSessionService.cs
‚îú‚îÄ‚îÄ Infrastructure/
‚îÇ   ‚îî‚îÄ‚îÄ Services/
‚îÇ       ‚îú‚îÄ‚îÄ MessengerService.cs
‚îÇ       ‚îú‚îÄ‚îÄ NavigationService.cs
‚îÇ       ‚îî‚îÄ‚îÄ UserSessionService.cs
‚îú‚îÄ‚îÄ Presentation/
‚îÇ   ‚îú‚îÄ‚îÄ ViewModels/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseViewModel.cs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginViewModel.cs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainViewModel.cs
‚îÇ   ‚îî‚îÄ‚îÄ Forms/
‚îÇ       ‚îú‚îÄ‚îÄ LoginForm.cs
‚îÇ       ‚îî‚îÄ‚îÄ MainForm.cs
‚îú‚îÄ‚îÄ Program.cs
‚îú‚îÄ‚îÄ appsettings.json
‚îî‚îÄ‚îÄ Messenger.WinForms.csproj
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **.NET 9.0** - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **WinForms** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Microsoft.Extensions.DependencyInjection** - DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- **Microsoft.Extensions.Hosting** - —Ö–æ—Å—Ç–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Microsoft.Extensions.Logging** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Messenger.Client** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Messenger.Shared** - –æ–±—â–∏–µ DTOs 